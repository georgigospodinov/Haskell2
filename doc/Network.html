<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Network</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:posToString">posToString</a> :: (Int, Int) -&gt; String</li><li class="src short"><a href="#v:stringToPos">stringToPos</a> :: String -&gt; (Int, Int)</li><li class="src short"><a href="#v:sendMove">sendMove</a> :: <a href="Board.html#t:World">World</a> -&gt; (Int, Int) -&gt; IO <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:sendMsg">sendMsg</a> :: Socket -&gt; String -&gt; IO Int</li><li class="src short"><a href="#v:rcvMsg">rcvMsg</a> :: Socket -&gt; String</li><li class="src short"><a href="#v:rcvMove">rcvMove</a> :: <a href="Board.html#t:World">World</a> -&gt; Socket -&gt; <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:setupNetworking">setupNetworking</a> :: <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:unsafeSetupNetworking">unsafeSetupNetworking</a> :: <a href="Board.html#t:World">World</a> -&gt; <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:serverSetup">serverSetup</a> :: String -&gt; IO Socket</li><li class="src short"><a href="#v:clientSetup">clientSetup</a> :: String -&gt; String -&gt; IO Socket</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:posToString" class="def">posToString</a> :: (Int, Int) -&gt; String</p><div class="doc"><p>Converts a (x,y) position to a String to send over the network &quot;(x,y)&quot;</p></div></div><div class="top"><p class="src"><a name="v:stringToPos" class="def">stringToPos</a> :: String -&gt; (Int, Int)</p><div class="doc"><p>Reads a String into a (x,y) position.</p></div></div><div class="top"><p class="src"><a name="v:sendMove" class="def">sendMove</a> :: <a href="Board.html#t:World">World</a> -&gt; (Int, Int) -&gt; IO <a href="Board.html#t:World">World</a></p><div class="doc"><p>Sends a move over a connected socket. Converts the position to string first.</p></div></div><div class="top"><p class="src"><a name="v:sendMsg" class="def">sendMsg</a> :: Socket -&gt; String -&gt; IO Int</p><div class="doc"><p>Sends a given string over a connected socket.</p></div></div><div class="top"><p class="src"><a name="v:rcvMsg" class="def">rcvMsg</a> :: Socket -&gt; String</p><div class="doc"><p>Waits on an incoming message from a given Socket. Returns when a string has
     been recieved. Limit is currently 1024 bytes which is more than enough for
     th strings we are sending. </p></div></div><div class="top"><p class="src"><a name="v:rcvMove" class="def">rcvMove</a> :: <a href="Board.html#t:World">World</a> -&gt; Socket -&gt; <a href="Board.html#t:World">World</a></p><div class="doc"><p>Uses rcvMsg to recieve a string from an connected socket and converts it
     into a (x,y) position. Then adds the position with the turn's colour to the
     pieces of the board.
     Note: Does not check for validity of move. This is the responsibility of the
           other socket endpoint. For this practical we assume that we are only
           connected to other instances of our game. </p></div></div><div class="top"><p class="src"><a name="v:setupNetworking" class="def">setupNetworking</a> :: <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></p></div><div class="top"><p class="src"><a name="v:unsafeSetupNetworking" class="def">unsafeSetupNetworking</a> :: <a href="Board.html#t:World">World</a> -&gt; <a href="Board.html#t:World">World</a></p><div class="doc"><p>Runs setupNetworking discarding IO() for when the game is started with
     networking from the Menu </p></div></div><div class="top"><p class="src"><a name="v:serverSetup" class="def">serverSetup</a> :: String -&gt; IO Socket</p><div class="doc"><p>Sets up the server and waits on an incoming connection when the socket is
     ready. Returns a successfully connected Socket. Fails if port is already in
     use or permissions are not sufficient. </p></div></div><div class="top"><p class="src"><a name="v:clientSetup" class="def">clientSetup</a> :: String -&gt; String -&gt; IO Socket</p><div class="doc"><p>Sets up the client and attempts to connect to an endpoint with the specified
     address and port. Fails if endpoint doesnt exist or refuses connection. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>